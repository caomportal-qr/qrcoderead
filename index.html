<!doctype html> 
 <html> 
   <head> 
     <meta charset="uft-8"/> 
     <title>QRコードリーダ</title> 
     <style> 
       body { 
         margin: auto; 
         width: 960px; 
         text-align: center; 
       } 
     </style> 
   </head> 
   <body> 
     <h1>QRコードリーダ</h1> 
      
     <video id="preview"></video>
     <br />
     <a id="info" href="javascript:void(0);" onclick="jump();"></a>

     <script src="instascan.min.js"></script> 
     <script> 
       var videoTag = document.getElementById('preview'); 
       var info = document.getElementById('info'); 
       var scanner = new Instascan.Scanner({ video: videoTag }); 

       scanner.addListener('scan', function (value) { 
         info.textContent = value;
         <!--window.open( info.textContent, "_self");-->
       }); 
        
       Instascan.Camera.getCameras() 
       .then(function (cameras) { 
           
           if (cameras.length > 0) { 
              
             scanner.start(cameras[0]); 
           } 
           else { 
             alert('error'); 
           } 
       }) 
       .catch(function(err) { 
          alert(err);
       }); 

     function jump() {
       window.open( info.textContent, "_self");
     }
     
     </script> 
   </body> 
</html> 
